!function(e,t){for(var n in t)e[n]=t[n];t.__esModule&&Object.defineProperty(e,"__esModule",{value:!0})}(exports,(()=>{var e={463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingUtil=void 0;const i=n(8888),r=n(5944),o=n(3177),s=n(8934),a=["─","│","─","│","┌","┐","┘","└"],l="CocHelperNormalFloat",u="CocHelperNormalFloatBorder";t.FloatingUtil=class{constructor(e){this.srcId=e}async createContext(e){var t,n;return null!==(t=e.context)&&void 0!==t?t:{lines:i.workspace.env.lines,columns:i.workspace.env.columns-i.workspace.env.cmdheight-1,globalCursorPosition:await r.utilModule.globalCursorPosition.call(),title:e.title?{text:e.title,width:await s.displayWidth(e.title)}:{text:"",width:0},borderEnabled:!!e.border,border:this.extendEdges(null===(n=e.border)||void 0===n?void 0:n.map((e=>"boolean"==typeof e?1:e))),paddingEnabled:!!e.padding,padding:this.extendEdges(e.padding)}}getCenterPos(e,t){const[,,n,i]=t;return[Math.floor((e.lines-i)/2),Math.floor((e.columns-n)/2)]}getPosForAround(e,t,n,i=!1){const r=e.columns,o=e.lines-1,[s,a]=t;let[l,u]=n;return i?l-a<0?l+=1:l-=a:l+a>=o?l-=a:l+=1,u+s>=r&&(u-=s-1),[l,u]}extendEdges(e){var t,n,i,r;if(!e)return[0,0,0,0];const o=null!==(t=e[0])&&void 0!==t?t:1,s=null!==(n=e[1])&&void 0!==n?n:o;return[o,s,null!==(i=e[2])&&void 0!==i?i:o,null!==(r=e[3])&&void 0!==r?r:s]}changeBoxByEdgesList(e,t){let n=[...e];for(const e of t)n=this.changeBoxByEdges(n,e);return n}changeBoxByEdges(e,t){if(!t)return e;const[n,i,r,o]=t;let[s,a,l,u]=e;return s-=n,a-=o,l+=o+i,u+=n+r,[s,a,l,u]}getBoxSizes(e,t,n){var i,r;const[o,s]=[null!==(i=t.top)&&void 0!==i?i:0,null!==(r=t.left)&&void 0!==r?r:0],a=[0,0,Math.max(t.width,e.title.width),t.height],l=this.changeBoxByEdges(a,e.padding),u=this.changeBoxByEdges(l,e.border);let c;if("center"===t.relative)c=this.getCenterPos(e,u);else{const i=!n&&this.storeCursorPosition?this.storeCursorPosition:e.globalCursorPosition;c="cursor"===t.relative?i:"cursor-around"===t.relative?this.getPosForAround(e,[u[2],u[3]],i):[o,s],this.storeCursorPosition=i}return[u[0],u[1]]=[c[0],c[1]],[l[0],l[1]]=[u[0]+e.border[0],u[1]+e.border[3]],[a[0],a[1]]=[l[0]+e.padding[0],l[1]+e.padding[3]],{contentBox:a,paddingBox:l,borderBox:u}}vimWinConfig(e,t,n){var i,r,o,s,c,h,d,f;const[p,m,v,g]=[null!==(i=t.top)&&void 0!==i?i:0,null!==(r=t.left)&&void 0!==r?r:0,t.width,t.height],w={line:0,col:0,zindex:null!==(o=t.borderOnly)&&void 0!==o&&o?1:100,minwidth:v,minheight:g,maxwidth:v,maxheight:g};if("center"===t.relative)w.pos="center";else{const i=!n&&this.storeCursorPosition?this.storeCursorPosition:e.globalCursorPosition;if("cursor"===t.relative)[w.line,w.col]=i;else if("cursor-around"===t.relative){const t=this.changeBoxByEdgesList([p,m,v,g],[e.padding,e.border]);[w.line,w.col]=this.getPosForAround(e,[t[2],t[3]],i)}else[w.line,w.col]=[p,m];this.storeCursorPosition=i,w.line+=1,w.col+=1}const b=null!==(s=t.topOffset)&&void 0!==s?s:0,E=null!==(c=t.leftOffset)&&void 0!==c?c:0;return w.line+=b,w.col+=E,t.maxWidth&&(w.maxwidth=t.maxWidth),t.maxHeight&&(w.maxheight=t.maxHeight),w.highlight=null!==(h=t.winHl)&&void 0!==h?h:l,t.padding&&(w.padding=t.padding),e.borderEnabled&&(w.border=e.border,w.border[0]&&(e.title.width&&(w.title=e.title.text),w.close="button"),w.borderchars=null!==(d=t.borderChars)&&void 0!==d?d:a,w.borderhighlight=[null!==(f=t.borderWinHl)&&void 0!==f?f:u]),w}nvimWinConfig(e,t,n){var i,r,o;const{contentBox:s,borderBox:a}=this.getBoxSizes(e,t,n),l=null!==(i=t.topOffset)&&void 0!==i?i:0,u=null!==(r=t.leftOffset)&&void 0!==r?r:0,c={relative:"editor",row:s[0]+l,col:s[1]+u,width:s[2],height:s[3],focusable:null===(o=t.focusable)||void 0===o||o};let h;return a&&(h={relative:"editor",row:a[0]+l,col:a[1]+u,width:a[2],height:a[3],focusable:!1}),[c,h]}winConfig(e,t,n=!0){return i.workspace.isVim?[this.vimWinConfig(e,t,n),void 0]:this.nvimWinConfig(e,t,n)}getRenderBorderData(e,t,n){var i,r,o,s,l,c;const h=null!==(r=null===(i=e.title)||void 0===i?void 0:i.text)&&void 0!==r?r:"",d=null!==(s=null===(o=e.title)||void 0===o?void 0:o.width)&&void 0!==s?s:0;if(!e.borderEnabled)return;const[f,p,m,v]=e.border;let[g,w,b,E,y,_,$,x]=null!==(l=t.borderChars)&&void 0!==l?l:a;f||(g=""),p||(w=""),m||(b=""),v||(E=""),f&&v||(y=""),f&&p||(_=""),m&&v||(x=""),m&&p||($="");const N=n[0],I=n[1],O=N-v-p,C=I-f-m,L=[];f&&L.push(y+h+g.repeat(O-d)+_),L.push(...Array.from({length:C},(()=>E+" ".repeat(O)+w))),m&&L.push(x+b.repeat(O)+$);const R=[],S=null!==(c=t.borderWinHl)&&void 0!==c?c:u;if(S){R.push({srcId:this.srcId,hlGroup:S,line:0,colStart:0,colEnd:N});for(let e=0,t=C;e<t;e++)v&&R.push({srcId:this.srcId,hlGroup:S,line:e+1,colStart:0,colEnd:v}),p&&R.push({srcId:this.srcId,hlGroup:S,line:e+1,colStart:v+O,colEnd:N});m&&R.push({srcId:this.srcId,hlGroup:S,line:I-1,colStart:0,colEnd:N})}return{lines:L,highlights:R}}renderBorderNotifier(e,t,n,i){const r=this.getRenderBorderData(t,n,"width"in i?[i.width,i.height]:[i.minwidth,i.minheight]);if(!r)return o.Notifier.noop();const{lines:s,highlights:a}=r;return o.Notifier.create((()=>{e.setOption("modifiable",!0,!0),e.setOption("readonly",!1,!0),e.setLines(s,{start:0,end:-1},!0),e.setOption("modifiable",!1,!0),e.setOption("readonly",!0,!0),this.addHighlightsNotify(e,a)}))}nvimWinHl(e){var t,n;if(i.workspace.isVim)return"";const r=[];return r.push("Normal:"+(null!==(t=e.winHl)&&void 0!==t?t:l)),r.push("NormalNC:"+(null!==(n=e.winHlNC)&&void 0!==n?n:"CocHelperNormalFloatNC")),r.join(",")}addHighlightsNotify(e,t){for(const n of t)n.srcId&&n.hlGroup&&void 0!==n.line&&void 0!==n.colStart&&void 0!==n.colEnd&&e.highlightRanges(this.srcId,n.hlGroup,[i.Range.create(n.line,n.colStart,n.line,n.colEnd)])}}},1526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingWindow=void 0;const i=n(8888),r=n(3177),o=n(8434),s=n(5944),a=n(8934),l=n(463);class u{constructor(e,t,n,r,o){this.bufnr=e,this.borderBufnr=t,this.createOptions=n,this.mode=r,this.util=o,this.nvim=i.workspace.nvim,this.disposables=[],this.nvim=i.workspace.nvim,this.buffer=this.nvim.createBuffer(e),t&&(this.borderBuffer=i.workspace.nvim.createBuffer(t),this.disposables.push(i.events.on("BufWinLeave",a.helperLogger.asyncCatch((async e=>{this.borderBufnr&&e===this.bufnr&&await s.utilModule.closeWinByBufnr.call([this.borderBufnr])})))))}static getInitedExecute(e,t){var n,i,r,o;let s=null!==(i=null===(n=t.initedExecute)||void 0===n?void 0:n.call(t,u.initedContextVars.create))&&void 0!==i?i:"";return s=u.modePresets[e].createInitedExecute(u.initedContextVars.create)+"\n"+s,[s,null!==(o=null===(r=t.borderInitedExecute)||void 0===r?void 0:r.call(t,u.initedContextVars.create))&&void 0!==o?o:u.modePresets.show.createInitedExecute(u.initedContextVars.create)]}static async create(e={}){var t,n,i;const r=null!==(t=e.mode)&&void 0!==t?t:"default",[s,a]=this.getInitedExecute(r,e),[c,h]=await o.floatingModule.create.call(null!==(n=e.name)&&void 0!==n?n:"",s,null===(i=e.hasBorderBuf)||void 0===i||i,a),d=new l.FloatingUtil(this.srcId);return new u(c,null!=h?h:void 0,e,r,d)}getInitedExecute(e){var t,n,i,r;let o=null!==(n=null===(t=e.initedExecute)||void 0===t?void 0:t.call(e,u.initedContextVars.open))&&void 0!==n?n:"";return o=u.modePresets[this.mode].openInitedExecute(u.initedContextVars.open)+"\n"+o,[o,null!==(r=null===(i=e.borderInitedExecute)||void 0===i?void 0:i.call(e,u.initedContextVars.open))&&void 0!==r?r:u.modePresets.show.openInitedExecute(u.initedContextVars.open)]}getFocus(e){var t,n;return null!==(n=null!==(t=e.focus)&&void 0!==t?t:this.mode?u.modePresets[this.mode].focus:void 0)&&void 0!==n&&n}getModifiable(e){var t,n;return null!==(n=null!==(t=e.modifiable)&&void 0!==t?t:this.mode?u.modePresets[this.mode].modifiable:void 0)&&void 0!==n&&n}setLinesNotifier(e){return r.Notifier.create((()=>{if(!e.lines&&!e.modifiable)return;const t=this.getModifiable(e);if(this.buffer.setOption("modifiable",!0,!0),this.buffer.setOption("readonly",!1,!0),e.lines&&this.buffer.setLines(e.lines,{start:0,end:-1},!0),t||(this.buffer.setOption("modifiable",!1,!0),this.buffer.setOption("readonly",!0,!0)),e.highlights)for(const t of e.highlights)void 0!==t.srcId&&-1!==t.srcId&&0!==t.srcId||(t.srcId=u.srcId),this.util.addHighlightsNotify(this.buffer,[t]);i.workspace.isVim&&this.nvim.command("redraw!",!0)}))}async setLines(e){await this.setLinesNotifier(e).run()}async opened(){return!!await this.win()}async openNotifier(e){var t;if(e.width<=0||e.height<=0)return r.Notifier.noop();const n=[];n.push(this.closeNotifier());const s=await this.util.createContext(e),[a,l]=this.getInitedExecute(e),[u,c]=this.util.winConfig(s,e);return e.borderOnly&&c?(n.push(o.floatingModule.open.callNotifier(this.bufnr,c,l,null,null,"",!1,this.util.nvimWinHl(e))),n.push(this.util.renderBorderNotifier(this.buffer,s,e,c))):n.push(o.floatingModule.open.callNotifier(this.bufnr,u,a,null!==(t=this.borderBufnr)&&void 0!==t?t:null,null!=c?c:null,l,this.getFocus(e),this.util.nvimWinHl(e))),i.workspace.isNvim&&this.borderBuffer&&c&&n.push(this.util.renderBorderNotifier(this.borderBuffer,s,e,c)),n.push(this.setLinesNotifier(e),r.Notifier.create((()=>{e.filetype&&this.buffer.setOption("filetype",e.filetype,!0)}))),r.Notifier.combine(n)}async open(e){await(await this.openNotifier(e)).run()}async resumeNotifier(e){const t=await this.util.createContext(e),[n,s]=this.util.winConfig(t,e);return r.Notifier.create((()=>{var r;o.floatingModule.resume.callNotify(this.bufnr,n,null!==(r=this.borderBufnr)&&void 0!==r?r:null,null!=s?s:null,this.getFocus(e),this.util.nvimWinHl(e)),this.borderBuffer&&s&&this.util.renderBorderNotifier(this.borderBuffer,t,e,s).notify(),i.workspace.isVim&&this.nvim.command("redraw!",!0)}))}async resume(e){await(await this.resumeNotifier(e)).run()}async resizeNotifier(e){var t;const n=await this.util.createContext(e),[s,a]=this.util.winConfig(n,e,!1),l=[];return e.borderOnly&&a?(l.push(o.floatingModule.update.callNotifier(this.bufnr,a,null,null,this.util.nvimWinHl(e))),l.push(this.util.renderBorderNotifier(this.buffer,n,e,a))):l.push(o.floatingModule.update.callNotifier(this.bufnr,s,null!==(t=this.borderBufnr)&&void 0!==t?t:null,null!=a?a:null,this.util.nvimWinHl(e))),i.workspace.isNvim&&this.borderBuffer&&a&&l.push(this.util.renderBorderNotifier(this.borderBuffer,n,e,a)),l.push(r.Notifier.create((()=>{i.workspace.isVim&&this.nvim.command("redraw!",!0)}))),r.Notifier.combine(l)}async resize(e){await(await this.resizeNotifier(e)).run()}async win(){const e=await o.floatingModule.winid.call(this.bufnr);return e?this.nvim.createWindow(e):void 0}async borderWin(){const e=await o.floatingModule.winid.call(this.bufnr);return e?this.nvim.createWindow(e):void 0}closeNotifier(){return o.floatingModule.close.callNotifier(this.bufnr)}async close(){await this.closeNotifier().run()}dispose(){i.disposeAll(this.disposables),this.disposables.forEach((e=>e.dispose()))}}t.FloatingWindow=u,u.modePresets={default:{modifiable:!1,focus:!1,createInitedExecute:()=>"",openInitedExecute:()=>""},base:{createInitedExecute:e=>`\n        call setbufvar(${e.bufnr}, '&buftype', 'nofile')\n        call setbufvar(${e.bufnr}, '&bufhidden', 'hide')\n        call setbufvar(${e.bufnr}, '&buflisted', 0)\n\n        call setbufvar(${e.bufnr}, '&wrap', 1)\n\n        call setbufvar(${e.bufnr}, '&swapfile', 0)\n\n        call setbufvar(${e.bufnr}, '&modeline', 0)\n      `,openInitedExecute:e=>`\n        call setbufvar(${e.bufnr}, '&list', 0)\n\n        call setbufvar(${e.bufnr}, '&listchars', '')\n        if has('nvim')\n          call setbufvar(${e.bufnr}, '&fillchars', 'eob: ')\n        endif\n\n        call setbufvar(${e.bufnr}, '&signcolumn', 'no')\n        call setbufvar(${e.bufnr}, '&number', 0)\n        call setbufvar(${e.bufnr}, '&relativenumber', 0)\n        call setbufvar(${e.bufnr}, '&foldenable', 0)\n        call setbufvar(${e.bufnr}, '&foldcolumn', 0)\n\n        call setbufvar(${e.bufnr}, '&spell', 0)\n\n        call setbufvar(${e.bufnr}, '&cursorcolumn', 0)\n        call setbufvar(${e.bufnr}, '&cursorline', 0)\n        call setbufvar(${e.bufnr}, '&colorcolumn', '')\n      `},show:{modifiable:!1,createInitedExecute:e=>`\n        ${u.modePresets.base.createInitedExecute(e)}\n        " call setbufvar(${e.bufnr}, '&undofile', 0)\n        " call setbufvar(${e.bufnr}, '&undolevels', -1)\n\n        call setbufvar(${e.bufnr}, '&modifiable', 0)\n        call setbufvar(${e.bufnr}, '&modified', 0)\n        call setbufvar(${e.bufnr}, '&readonly', 1)\n      `,openInitedExecute:e=>`\n        ${u.modePresets.base.openInitedExecute(e)}\n      `}},u.initedContextVars={create:{bufnr:"a:ctx.bufnr"},open:{bufnr:"a:ctx.bufnr",winid:"a:ctx.winid"}},u.srcId=i.workspace.createNameSpace("coc-helper-floatwin")},4356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiFloatingWindow=void 0;const i=n(8888),r=n(8303),o=n(463),s=n(1526);class a{constructor(e,t,n){this.borderFloatWin=e,this.floatWinDict=t,this.util=n,this.disposables=[],this.floatWins=Object.values(this.floatWinDict),this.nvim=i.workspace.nvim,this.bufnrs=[e.bufnr,...this.floatWins.map((e=>e.bufnr))],this.disposables.push(i.events.on("BufWinLeave",(async e=>{this.bufnrs.includes(e)&&await this.close()})),i.Disposable.create((()=>{e.dispose(),i.disposeAll(this.floatWins)})))}static async create(e){const t=await s.FloatingWindow.create(Object.assign({hasBorderBuf:!1,mode:"show"},e)),n=(await Promise.all(Object.entries(e.wins).map((async([e,t])=>[e,await s.FloatingWindow.create(Object.assign({hasBorderBuf:!1},t))])))).reduce(((e,[t,n])=>(e[t]=n,e)),{}),i=new o.FloatingUtil(s.FloatingWindow.srcId);return new a(t,n,i)}async opened(){return this.borderFloatWin.opened()}async sizeByWinsOptions(e){var t,n;let i=0,r=0;for(const o of e){const e=await this.util.createContext(o),s=this.util.getBoxSizes(e,o,!1),a=(null!==(t=o.left)&&void 0!==t?t:0)+s.borderBox[2];a>i&&(i=a);const l=(null!==(n=o.top)&&void 0!==n?n:0)+s.borderBox[3];l>r&&(r=l)}return[i,r]}async batchAction(e,t,{reverse:n=!1,updateCursorPosition:i=!0}={}){var o,s;const[a,l]=await this.sizeByWinsOptions(Object.values(t.wins)),u=Object.assign({width:a,height:l},t),c=await this.util.createContext(u),{contentBox:h}=this.util.getBoxSizes(c,u,i),d=[];for(const[n,i]of Object.entries(this.floatWinDict)){const r=t.wins[n];r&&d.push(await i[e](Object.assign(Object.assign({},r),{relative:"editor",top:h[0]+(null!==(o=r.top)&&void 0!==o?o:0),left:h[1]+(null!==(s=r.left)&&void 0!==s?s:0)})))}d.push(await this.borderFloatWin[e](Object.assign(Object.assign({},u),{borderOnly:!0}))),n&&d.reverse(),await r.Notifier.runAll(d)}async open(e){return this.batchAction("openNotifier",e)}async resume(e){return this.batchAction("resumeNotifier",e)}resize(e){return this.batchAction("resizeNotifier",e,{updateCursorPosition:!1})}async win(){return{borderWin:await this.borderFloatWin.win(),wins:await this.wins()}}async wins(){return await Promise.all(this.floatWins.map((e=>e.win())))}async close(){const e=[];e.push(this.borderFloatWin.closeNotifier()),e.push(...this.floatWins.map((e=>e.closeNotifier()))),await r.Notifier.runAll(e)}dispose(){i.disposeAll(this.disposables)}}t.MultiFloatingWindow=a},5764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimModule=void 0;const i=n(8888),r=n(3177),o=n(8934),s=`g:coc_helper_module_p${process.pid}_${o.versionName}`,a=`CocHelperCallFn_${o.versionName}`,l=`CocHelperCallVar_${o.versionName}`,u="__coc_helper_module_max_id";function c(e){return e.replace(/\n\s*\\/g,"")}class h{constructor(e){this.moduleKey=e}static async init(e){for(await i.workspace.nvim.call("execute",`\n        if !exists('${s}')\n          let ${s} = {}\n        endif\n\n        function! ${a}(module_key, method_name, args)\n          try\n            return call(${s}[a:module_key][a:method_name], a:args)\n          catch\n            let ex = v:exception\n            let msg = 'error when call ' . a:module_key . '.' . a:method_name\n            echom msg\n            echom ex\n            throw msg . ex\n          endtry\n        endfunction\n\n        function! ${l}(module_key, var_name, expression)\n          try\n            let ${s}[a:module_key][a:var_name] = eval(a:expression)\n          catch\n            let ex = v:exception\n            let msg = 'error when declare ' . a:module_key . '.' . a:var_name\n            echom msg\n            echom ex\n            throw msg . ex\n          endtry\n        endfunction\n      `);h.initQueue.length;){const t=h.initQueue.shift();try{await t(e)}catch(e){o.helperLogger.error(e)}}}static create(e,t){const n=`${u in global||(global[u]=0),global[u]+=1,global[u]}_${e}`,r=new h(n);let o;function a(){return o||(o=t(r)),o}return h.initQueue.push((async()=>{await i.workspace.nvim.call("execute",`let ${s}.${n} = {}`),a()})),new Proxy({},{get:(e,t)=>Reflect.get(a(),t),has:(e,t)=>t in a(),ownKeys:()=>Object.keys(a())})}registerInit(e){h.initQueue.push(e)}fn(e,t){const{nvim:n}=i.workspace,l=`${s}.${this.moduleKey}.${e}`,u=t({name:l}),h=`${this.moduleKey}.${e}`;return this.registerInit((async()=>{o.helperLogger.appendLine(`declare fn ${h}`),await n.call("execute",[c(u)])})),{name:l,inlineCall:(t="")=>`${a}('${this.moduleKey}', '${e}', [${t}])`,call:(...t)=>(o.helperLogger.appendLine(`call ${h}`),n.call(a,[this.moduleKey,e,t])),callNotify:(...t)=>(o.helperLogger.appendLine(`callNotify ${h}`),n.call(a,[this.moduleKey,e,t],!0)),callNotifier:(...t)=>(o.helperLogger.appendLine(`callNotifier ${h}`),r.Notifier.create((()=>{n.call(a,[this.moduleKey,e,t],!0)})))}}var(e,t){const{nvim:n}=i.workspace,a=`${s}.${this.moduleKey}.${e}`,u=`${this.moduleKey}.${e}`;return this.registerInit((async()=>{o.helperLogger.appendLine(`declare var ${u}`),await n.call(l,[this.moduleKey,e,c(t)])})),{name:a,inline:a,get:()=>n.eval(a),set:async t=>{await n.call(l,[this.moduleKey,e,c(t)])},setNotify:t=>{n.call(l,[this.moduleKey,e,c(t)],!0)},setNotifier:t=>r.Notifier.create((()=>{n.call(l,[this.moduleKey,e,c(t)],!0)}))}}}t.VimModule=h,h.initQueue=[]},3987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WinLayoutFinder=void 0;const i=n(8888);t.WinLayoutFinder=class{constructor(e){this.root=e}static convertVimLayoutNode(e,t){if("leaf"===e[0])return{type:e[0],winid:e[1],parent:t};{const t={type:e[0],children:[]};return t.children=e[1].map(((e,n)=>this.convertVimLayoutNode(e,{group:t,indexInParent:n}))),t}}static async create(){const e=await i.workspace.nvim.call("winlayout",[]);return new this(this.convertVimLayoutNode(e))}static getFirstLeafWinid(e){return"leaf"===e.type?e.winid:this.getFirstLeafWinid(e.children[0])}findWinid(e,t=this.root){if("leaf"===t.type)return t.winid===e?t:void 0;for(const n of t.children){const t=this.findWinid(e,n);if(t)return t}}findClosest(e,t){const n=new Set([e]),i=[e];for(;i.length;){const e=i.shift();if("leaf"===e.type){if(t.includes(e.winid))return e}else for(const t of e.children)n.has(t)||(i.push(t),n.add(t));e.parent&&!n.has(e.parent.group)&&(i.push(e.parent.group),n.add(e.parent.group))}}}},7535:e=>{"use strict";e.exports=JSON.parse('{"name":"coc-helper","version":"0.8.4","description":"Helpers for coc.nvim","module":"lib/esm/index.js","main":"lib/cjs/index.js","homepage":"https://github.com/weirongxu/coc-helper","repository":"git@github.com:weirongxu/coc-helper.git","author":"Weirong Xu <weirongxu.raidou@gmail.com>","license":"MIT","files":["lib","tests","jest.config.js","JestHelper.js","JestHelper.d.ts"],"scripts":{"clean":"rimraf lib","copy:pkg":"cpy --rename=_package.json package.json src/","build:esm":"tsc -p ./tsconfig.prod.json --module es2020 --outDir lib/esm","build:cjs":"tsc -p ./tsconfig.prod.json --module commonjs --outDir lib/cjs","build":"npm-run-all clean copy:pkg build:esm build:cjs","lint":"eslint src --ext ts","setup:test-env":"node ./tests/setup.js","prepare":"run-s clean setup:test-env build","unittest":"jest --runInBand --detectOpenHandles --forceExit","test":"npm-run-all copy:pkg lint unittest"},"engines":{"coc":"^0.0.77"},"activationEvents":["*"],"prettier":{"singleQuote":true,"printWidth":80,"semi":true,"trailingComma":"all"},"peerDependencies":{"coc.nvim":"*"},"devDependencies":{"@chemzqm/neovim":"^5.2.12","@types/app-root-path":"^1.2.4","@types/eslint":"^7.2.6","@types/jest":"^26.0.19","@types/node":"^14.14.16","@types/rimraf":"^3.0.0","@types/uuid":"^8.3.0","@typescript-eslint/eslint-plugin":"^4.11.0","@typescript-eslint/parser":"^4.11.0","coc.nvim":"0.0.81-next.0","cpy-cli":"^3.1.1","eslint":"^7.16.0","jest":"^26.6.3","log4js":"^6.3.0","npm-run-all":"^4.1.5","rimraf":"^3.0.2","ts-jest":"^26.4.4","type-fest":"^0.20.2","typescript":"^4.1.3","vscode-uri":"^3.0.1"},"dependencies":{"app-root-path":"^3.0.0"}}')},7558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventsModule=t.helperEvents=t.helperVimEvents=t.HelperVimEvents=t.HelperEventEmitter=void 0;const i=n(8888),r=n(5944),o=n(8934),s=n(5764);class a{constructor(e,t=!1){this.helperLogger=e,this.concurrent=t,this.listenersMap=new Map}listeners(e){if(!this.listenersMap.has(e)){const t=[];return this.listenersMap.set(e,t),t}return this.listenersMap.get(e)}on(e,t,n){this.listeners(e).push(t);const r=i.Disposable.create((()=>this.off(e,t)));return n&&n.push(r),r}off(e,t){"function"==typeof t.cancel&&t.cancel();const n=this.listeners(e),i=n.indexOf(t);-1!==i&&n.splice(i,1)}async fire(e,...t){if(this.concurrent)await Promise.all(this.listeners(e).map((async e=>{try{await e(...t)}catch(e){this.helperLogger.error(e)}})));else for(const n of this.listeners(e))try{await n(...t)}catch(e){this.helperLogger.error(e)}}}t.HelperEventEmitter=a;class l{constructor(e,t,n={}){var i,r,s,u;this.vimEvents=e,this.helperLogger=t,this.options=n,++l.ID,this.id=l.ID,this.augroupName=null!==(i=n.augroupName)&&void 0!==i?i:`CocHelperInternal_${o.versionName}_${n.name?`${n.name}_`:""}${this.id}`,this.commandName=null!==(s=null!==(r=n.commandName)&&void 0!==r?r:n.commandName)&&void 0!==s?s:`coc-helper.internal.didVimEvent_${n.name?`${n.name}_`:""}${this.id}`,this.events=new a(this.helperLogger,null!==(u=n.concurrent)&&void 0!==u&&u)}async register(e){await t.eventsModule.activate.call(this.augroupName,this.commandName,Object.entries(this.vimEvents).map((([e,t])=>Object.assign({event:e},t)))),e.subscriptions.push(i.Disposable.create((async()=>{await t.eventsModule.deactivate.call(this.augroupName)}))),e.subscriptions.push(i.commands.registerCommand(this.commandName,o.helperLogger.asyncCatch(((e,...t)=>this.events.fire(e,...t))),void 0,!0))}}t.HelperVimEvents=l,l.ID=0,t.helperVimEvents=new l({BufDelete:{eventExpr:"BufDelete *",argExprs:["+expand('<abuf>')"]},BufWipeout:{eventExpr:"BufWipeout *",argExprs:["+expand('<abuf>')"]}},o.helperLogger),t.helperEvents=t.helperVimEvents.events,t.eventsModule=s.VimModule.create("events",(e=>{const t=e.fn("activate",(({name:e})=>`\n      function! ${e}(augroup_name, autocmd_events) abort\n        execute 'augroup ' . a:augroup_name\n          autocmd!\n          for autocmd_event in a:autocmd_events\n            execute autocmd_event\n          endfor\n        augroup END\n      endfunction\n    `));function n(e,t){return t.map((t=>{var n;const i=`${[`'${e}'`,`'${t.event}'`,...null!==(n=t.argExprs)&&void 0!==n?n:[]].join(", ")}`;return`autocmd ${t.eventExpr} call ${!1===t.async?r.utilModule.runCocCmd.inlineCall(i):r.utilModule.runCocCmdAsync.inlineCall(i)}`}))}return{activate:{call:(e,i,r)=>t.call(e,n(i,r)),callNotify:(e,i,r)=>t.callNotify(e,n(i,r)),callNotifier:(e,i,r)=>t.callNotifier(e,n(i,r))},deactivate:e.fn("deactivate",(({name:e})=>`\n        function! ${e}(augroup_name) abort\n          execute 'augroup ' . a:augroup_name\n            autocmd!\n          augroup END\n        endfunction\n      `)),doAutocmd:e.fn("do_autocmd",(({name:e})=>`\n        function! ${e}(name) abort\n          if exists('#User#'.a:name)\n            exe 'doautocmd <nomodeline> User '.a:name\n          endif\n        endfunction\n      `))}}))},8303:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.activateHelper=void 0;const o=n(8888),s=n(7558),a=n(1526),l=n(4356),u=n(8934),c=n(5764);async function h(e,t={}){var n,i;(null===(n=t.vimModule)||void 0===n||n)&&await c.VimModule.init(e),(null===(i=t.events)||void 0===i||i)&&await s.helperVimEvents.register(e);try{await o.workspace.nvim.command("hi default link CocHelperNormalFloatNC CocHelperNormalFloat")}catch(e){o.window.showMessage(e,"error")}}r(n(7558),t),r(n(1526),t),r(n(6045),t),r(n(8434),t),r(n(5944),t),r(n(4356),t),r(n(3177),t),r(n(8934),t),r(n(5764),t),r(n(3987),t),t.activateHelper=h,t.activate=async function(e){await h(e,{events:!0}),s.helperEvents.on("BufDelete",(e=>{o.window.showMessage("buffer delete "+e)})),await o.workspace.nvim.command("hi CocHelperNormalFloat ctermbg=Red guibg=#aa0000"),await o.workspace.nvim.command("hi CocHelperNormalFloatNC ctermbg=Red guibg=#aa0000"),await o.workspace.nvim.command("hi CocHelperNormalFloatBorder ctermbg=Black ctermfg=Grey guibg=#0000aa guifg=#ffffff");const t=await a.FloatingWindow.create({mode:"base"});o.commands.registerCommand("testHelper-floating",(async()=>{const e="hello";await t.open({relative:"cursor-around",lines:[e],top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!0,filetype:"test",highlights:[{line:0,srcId:0,colStart:0,colEnd:e.length,hlGroup:"Question"}]}),await u.sleep(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:10,height:10,border:[],padding:[],winHl:"Pmenu",winHlNC:"Pmenu",modifiable:!0,focus:!1,filetype:"test"}),await u.sleep(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!1,filetype:"test"})}));const n=await l.MultiFloatingWindow.create({wins:{prompt:{mode:"show"},input:{mode:"base"}}});o.commands.registerCommand("testHelper-multi-floating",(async()=>{const e="input your path:",t=await u.displayHeight(10,[e]),i="/home/users/repos";let r=await u.displayHeight(10,[i]);o.events.on("TextChangedI",(async e=>{const t=n.floatWinDict.input;if(t.bufnr!==e)return;const i=await t.win();if(!i)return;const o=await i.cursor,s=await i.width,l=await i.height,c=await t.buffer.getLines(),h=await u.displayHeight(s,c,o,"i");h!==l&&(r=h,await a())}));const s=()=>({relative:"cursor-around",top:0,left:0,title:"test",border:[],padding:[],modifiable:!0,filetype:"test",wins:{prompt:{top:0,left:0,width:10,height:t,highlights:[{line:0,srcId:0,colEnd:e.length,colStart:0,hlGroup:"Question"}],lines:[e]},input:{top:t,left:0,width:10,height:r,lines:[i],focus:!0,modifiable:!0,initedExecute:()=>"\n            if has('nvim')\n              call feedkeys('A')\n            endif\n          "}}}),a=async()=>{await n.resize(s())};await n.open(s())}))}},6045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufModule=void 0;const i=n(5764),r=n(8888);t.bufModule=i.VimModule.create("buf",(e=>{const t=r.workspace.isNvim,n=e.fn("create_by_name",(({name:e})=>`\n      function! ${e}(name) abort\n        return bufadd(a:name)\n      endfunction\n    `));return{createByName:n,create:e.fn("create",(({name:e})=>t?`\n          function! ${e}(...) abort\n            let name = get(a:000, 0, '')\n            if name is ''\n              return nvim_create_buf(v:false, v:true)\n            else\n              return ${n.inlineCall("name")}\n            endif\n          endfunction\n        `:`\n          function! ${e}(...) abort\n            let name = get(a:000, 0, '')\n            return ${n.inlineCall("name")}\n          endfunction\n        `))}}))},8434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.floatingModule=void 0;const i=n(8888),r=n(5764),o=n(6045);t.floatingModule=r.VimModule.create("float",(e=>{const t=i.workspace.isNvim,n=e.fn("init_execute",(({name:e})=>`\n      function! ${e}(ctx, inited_execute) abort\n        execute a:inited_execute\n      endfunction\n    `)),r=e.fn("open_win",(({name:e})=>t?`\n        function! ${e}(bufnr, focus, win_config, win_hl, inited_execute) abort\n          let winid = nvim_open_win(a:bufnr, a:focus, a:win_config)\n          if !empty(a:win_hl)\n            call nvim_win_set_option(winid, 'winhl', a:win_hl)\n          endif\n          if !empty(a:inited_execute)\n            call ${n.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}\n          endif\n          return winid\n        endfunction\n      `:`\n        function! ${e}(bufnr, focus, win_config, win_hl, inited_execute) abort\n          let winid = popup_create(a:bufnr, a:win_config)\n          call ${n.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}\n\n          return winid\n        endfunction\n      `));return{create:e.fn("create",(({name:e})=>t?`\n            function! ${e}(name, inited_execute, has_border_buf, border_inited_execute) abort\n              let bufnr = ${o.bufModule.create.inlineCall("a:name")}\n              call ${n.inlineCall("{'bufnr': bufnr}, a:inited_execute")}\n\n              let border_bufnr = v:null\n              if a:has_border_buf\n                let border_bufnr = nvim_create_buf(v:false, v:true)\n                call ${n.inlineCall("{'bufnr': border_bufnr}, a:border_inited_execute")}\n              endif\n              return [bufnr, border_bufnr]\n            endfunction\n          `:`\n            function! ${e}(name, inited_execute, has_border_buf, border_inited_execute) abort\n              let bufnr = ${o.bufModule.create.inlineCall("a:name")}\n              call ${n.inlineCall("{'bufnr': bufnr}, a:inited_execute")}\n              return [bufnr, v:null]\n            endfunction\n          `)),open:e.fn("open",(({name:e})=>`\n        function! ${e}(bufnr, win_config, inited_execute, border_bufnr, border_win_config, border_inited_execute, focus, win_hl) abort\n          let winid = ${r.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, a:inited_execute")}\n          call setbufvar(a:bufnr, 'coc_helper_winid', winid)\n\n          if a:border_bufnr\n            let border_winid = ${r.inlineCall("a:border_bufnr, v:false, a:border_win_config, a:win_hl, a:border_inited_execute")}\n            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)\n          endif\n        endfunction\n      `)),resume:e.fn("resume",(({name:e})=>`\n        function! ${e}(bufnr, win_config, border_bufnr, border_win_config, focus, win_hl) abort\n          let winid = ${r.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, ''")}\n          call setbufvar(a:bufnr, 'coc_helper_winid', winid)\n\n          if a:border_bufnr\n            let border_winid = ${r.inlineCall("border_bufnr, v:false, a:border_win_config, a:win_hl, ''")}\n            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)\n          endif\n        endfunction\n      `)),update:e.fn("update",(({name:e})=>t?`\n          function! ${e}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort\n            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)\n            if !winid\n              return\n            endif\n            call nvim_win_set_config(winid, a:win_config)\n            if !empty(a:win_hl)\n              call nvim_win_set_option(winid, 'winhl', a:win_hl)\n            endif\n            if has('nvim')\n              redraw!\n            endif\n\n            if a:border_bufnr\n              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)\n              if border_winid\n                call nvim_win_set_config(border_winid, a:border_win_config)\n                if !empty(a:win_hl)\n                  call nvim_win_set_option(border_winid, 'winhl', a:win_hl)\n                endif\n                if has('nvim')\n                  redraw!\n                endif\n              endif\n            endif\n          endfunction\n        `:`\n          function! ${e}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort\n            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)\n            if !winid\n              return\n            endif\n            call popup_setoptions(winid, a:win_config)\n          endfunction\n        `)),winid:e.fn("winid",(({name:e})=>`\n        function! ${e}(bufnr) abort\n          let id = getbufvar(a:bufnr, 'coc_helper_winid', v:null)\n          let nr = win_id2win(id)\n          return nr is 0 ? v:null : id\n        endfunction\n      `)),borderWinid:e.fn("border_winid",(({name:e})=>`\n        function! ${e}(bufnr) abort\n          return getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)\n        endfunction\n      `)),close:e.fn("close",(({name:e})=>t?`\n            function! ${e}(bufnr) abort\n              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)\n              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)\n              try\n                if winid\n                  call nvim_win_close(winid, v:true)\n                endif\n                if border_winid\n                  call nvim_win_close(border_winid, v:true)\n                endif\n              catch\n              endtry\n            endfunction\n          `:`\n            function! ${e}(bufnr) abort\n              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)\n              try\n                if winid\n                  call popup_close(winid)\n                endif\n              catch\n              endtry\n            endfunction\n          `))}}))},5944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilModule=void 0;const i=n(5764),r=n(8888);t.utilModule=i.VimModule.create("util",(e=>{const t=r.workspace.isNvim;return{globalCursorPosition:e.fn("global_cursor_position",(({name:e})=>`\n        function! ${e}()\n          let nr = winnr()\n          let [row, col] = win_screenpos(nr)\n          return [row + winline() - 2, col + wincol() - 2]\n        endfunction\n      `)),isFloat:e.fn("is_float",(({name:e})=>t?`\n          function! ${e}(winnr) abort\n            if !exists('*nvim_win_get_config')\n              return v:false\n            endif\n            let winid = win_getid(a:winnr)\n            return nvim_win_get_config(winid)['relative'] != ''\n          endfunction\n        `:`\n          function! ${e}(winnr) abort\n            return v:false\n          endfunction\n        `)),closeWinByBufnr:e.fn("close_win_by_bufnr",(({name:e})=>`\n        if exists('*nvim_win_close')\n          function! ${e}(bufnrs) abort\n            for bufnr in a:bufnrs\n              try\n                let winid = bufwinid(bufnr)\n                if winid >= 0\n                  call nvim_win_close(winid, v:true)\n                endif\n              catch\n              endtry\n            endfor\n          endfunction\n        else\n          function! ${e}(bufnrs) abort\n            for bufnr in a:bufnrs\n              try\n                let winnr = bufwinnr(bufnr)\n                if winnr >= 0\n                  execute winnr . 'wincmd c'\n                endif\n              catch\n              endtry\n            endfor\n          endfunction\n        endif\n      `)),runCocCmd:e.fn("run_coc_cmd",(({name:e})=>`\n      function! ${e}(name, ...) abort\n        return call('CocAction', extend(['runCommand', a:name], a:000))\n      endfunction\n    `)),runCocCmdAsync:e.fn("run_coc_cmd_async",(({name:e})=>`\n      function! ${e}(name, ...) abort\n        return call('CocActionAsync', extend(['runCommand', a:name], a:000))\n      endfunction\n    `))}}))},3177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notifier=void 0;const i=n(8888),r=n(8934);class o{constructor(e){this.notifyFns=[],this.notifyFns.push(e)}static async run(e){if(e){if(!("then"in e))return e.run();{const t=await e;if(t)return t.run()}}}static notifyAll(e){for(const t of e)t&&t.notify()}static async runAll(e){const t=await Promise.all(e);return i.workspace.nvim.pauseNotification(),this.notifyAll(t),i.workspace.nvim.resumeNotification()}static combine(e){const t=r.compactI(e);return t.length<1?o.noop():1===t.length?t[0]:t.reduce(((e,t)=>e.concat(t)),o.noop())}static noop(){return this.create((()=>{}))}static create(e){return new o(e)}async run(){return o.runAll([this])}notify(){for(const e of this.notifyFns)e()}concat(e){return this.notifyFns.push(...e.notifyFns),this}}t.Notifier=o},3728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=t.compactI=void 0,t.compactI=e=>e.filter((e=>null!=e)),t.sum=e=>e.reduce(((e,t)=>e+t))},5020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigLocal=void 0;const i=n(8888),r=n(9648);t.getConfigLocal=e=>(t=r.generateUri(i.workspace.cwd))=>i.workspace.getConfiguration(e,t)},6950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTest=t.isLinux=t.isMacintosh=t.isWindows=t.isWebpack=void 0,t.isWebpack="function"==typeof n,t.isWindows="win32"===process.platform,t.isMacintosh="darwin"===process.platform,t.isLinux="linux"===process.platform,t.isTest=!1},8934:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0,r(n(3728),t),r(n(5020),t),r(n(6950),t),r(n(8525),t),r(n(9648),t),r(n(6238),t),t.sleep=function(e){return new Promise((t=>{setTimeout(t,e)}))}},8525:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prettyPrint=t.prettyObject=t.helperLogger=t.HelperLogger=void 0;const r=n(8888),o=i(n(1669)),s=n(6950);class a{constructor(e){this.channelName=e,this.appendLine=this.appendLine.bind(this),this.error=this.error.bind(this)}dispose(){var e;null===(e=this.outputChannel_)||void 0===e||e.dispose()}get outputChannel(){return this.outputChannel_||(this.outputChannel_=r.window.createOutputChannel(this.channelName)),this.outputChannel_}appendLine(e){this.outputChannel.appendLine(e)}error(e){var t,n,i,o;e instanceof Error?(r.window.showMessage(e.message,"error"),null===(t=this.outputChannel)||void 0===t||t.appendLine(null!==(n=e.stack)&&void 0!==n?n:e.toString()),s.isTest&&console.error(null!==(i=e.stack)&&void 0!==i?i:e.toString())):(r.window.showMessage(e,"error"),null===(o=this.outputChannel)||void 0===o||o.appendLine(e),s.isTest&&console.error(e))}asyncCatch(e){return async(...t)=>{try{return await e(...t)}catch(e){this.error(e)}}}}function l(...e){const t=e=>e.toString(10).padStart(2,"0"),n=new Date;let i=`[${n.getFullYear()}/${t(n.getMonth()+1)}/${t(n.getDate())} ${t(n.getHours())}:${t(n.getMinutes())}:${t(n.getSeconds())}.${t(n.getMilliseconds())}]`;for(const t of e)i+=" "+o.default.inspect(t);return i}t.HelperLogger=a,t.helperLogger=new a("coc-helper"),t.prettyObject=l,t.prettyPrint=function(...e){t.helperLogger.appendLine(l(...e)),r.window.showMessage(l(...e))}},9648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayHeight=t.displayWidth=t.byteLength=t.byteIndex=t.generateUri=void 0;const i=n(8888),r=n(3728),o=n(6950);async function s(e){return await i.workspace.nvim.call("strdisplaywidth",[e])}t.generateUri=function(e,t="file"){return"file"===t&&o.isWindows&&/^[A-Za-z]:/.test(e)&&(e="/"+e),t+"://"+e},t.byteIndex=function(e,t){const n=e.slice(0,t);return Buffer.byteLength(n)},t.byteLength=function(e){return Buffer.byteLength(e)},t.displayWidth=s,t.displayHeight=async function(e,t,n,i="n"){const o=await Promise.all(t.map((async(t,r)=>{let o=await s(t);return"i"===i&&n&&n[0]-1===r&&n[1]+1>=o&&(o+=1),Math.ceil(o/e)})));return r.sum(o)}},6238:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.versionName=t.version=void 0;const r=i(n(7535));t.version=r.default.version,t.versionName=t.version.replace(/[.-]/g,"_")},9593:(e,t,n)=>{"use strict";const i=n(4411),r=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1,m=(e,t,n)=>{const i=e[d].get(t);if(i){const t=i.value;if(v(e,t)){if(w(e,i),!e[a])return}else n&&(e[f]&&(i.value.now=Date.now()),e[h].unshiftNode(i));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},g=e=>{if(e[o]>e[r])for(let t=e[h].tail;e[o]>e[r]&&null!==t;){const n=t.prev;w(e,t),t=n}},w=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[d].delete(n.key),e[h].removeNode(t)}};class b{constructor(e,t,n,i,r){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=r||0}}const E=(e,t,n,i)=>{let r=n.value;v(e,r)&&(w(e,n),e[a]||(r=void 0)),r&&t.call(i,r.value,r.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||p;if(this[s]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,g(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,g(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[s]&&(this[s]=e,this[o]=0,this[h].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),g(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let n=this[h].tail;null!==n;){const i=n.prev;E(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[h].head;null!==n;){const i=n.next;E(this,e,n,t),n=i}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach((e=>this[u](e.key,e.value))),this[d]=new Map,this[h]=new i,this[o]=0}dump(){return this[h].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const i=n?Date.now():0,a=this[s](t,e);if(this[d].has(e)){if(a>this[r])return w(this,this[d].get(e)),!1;const s=this[d].get(e).value;return this[u]&&(this[c]||this[u](e,s.value)),s.now=i,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),g(this),!0}const f=new b(e,t,a,i,n);return f.length>this[r]?(this[u]&&this[u](e,t),!1):(this[o]+=f.length,this[h].unshift(f),this[d].set(e,this[h].head),g(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!v(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[h].tail;return e?(w(this,e),e.value):null}del(e){w(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const e=r-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[d].forEach(((e,t)=>m(this,t,!1)))}}},2257:(e,t,n)=>{const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(e,t){if(t=o(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new h(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new h(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||u}}e.exports=r;const o=n(2893),{re:s,t:a}=n(5765),l=n(7539),u=n(4225),c=n(6376),h=n(6902)},6902:(e,t,n)=>{class i{constructor(e,t){if(t=o(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=r.get(t);if(n)return n;const i=this.options.loose,o=i?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[c.COMPARATORTRIM],h),a("comparator trim",e,u[c.COMPARATORTRIM]),e=(e=(e=e.replace(u[c.TILDETRIM],d)).replace(u[c.CARETTRIM],f)).split(/\s+/).join(" ");const l=i?u[c.COMPARATORLOOSE]:u[c.COMPARATOR],m=e.split(" ").map((e=>g(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options))).filter(this.options.loose?e=>!!e.match(l):()=>!0).map((e=>new s(e,this.options))),v=(m.length,new Map);for(const e of m){if(p(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const w=[...v.values()];return r.set(t,w),w}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some((n=>v(n,t)&&e.set.some((e=>v(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1}}e.exports=i;const r=new(n(9593))({max:1e3}),o=n(2893),s=n(2257),a=n(4225),l=n(6376),{re:u,t:c,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:f}=n(5765),p=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,v=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},g=(e,t)=>(a("comp",e,t),e=y(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=$(e,t),a("xrange",e),e=N(e,t),a("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const n=t.loose?u[c.TILDELOOSE]:u[c.TILDE];return e.replace(n,((t,n,i,r,o)=>{let s;return a("tilde",e,t,n,i,r,o),w(n)?s="":w(i)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:w(r)?s=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`):s=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,a("tilde return",s),s}))},y=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{a("caret",e,t);const n=t.loose?u[c.CARETLOOSE]:u[c.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,o,s)=>{let l;return a("caret",e,t,n,r,o,s),w(n)?l="":w(r)?l=`>=${n}.0.0${i} <${+n+1}.0.0-0`:w(o)?l="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),l="0"===n?"0"===r?`>=${n}.${r}.${o}-${s} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),l="0"===n?"0"===r?`>=${n}.${r}.${o}${i} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o} <${+n+1}.0.0-0`),a("caret return",l),l}))},$=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>x(e,t))).join(" ")),x=(e,t)=>{e=e.trim();const n=t.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return e.replace(n,((n,i,r,o,s,l)=>{a("xRange",e,n,i,r,o,s,l);const u=w(r),c=u||w(o),h=c||w(s),d=h;return"="===i&&d&&(i=""),l=t.includePrerelease?"-0":"",u?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(c&&(o=0),s=0,">"===i?(i=">=",c?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),"<"===i&&(l="-0"),n=`${i+r}.${o}.${s}${l}`):c?n=`>=${r}.0.0${l} <${+r+1}.0.0-0`:h&&(n=`>=${r}.${o}.0${l} <${r}.${+o+1}.0-0`),a("xRange return",n),n}))},N=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[c.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),O=e=>(t,n,i,r,o,s,a,l,u,c,h,d,f)=>`${n=w(i)?"":w(r)?`>=${i}.0.0${e?"-0":""}`:w(o)?`>=${i}.${r}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=w(u)?"":w(c)?`<${+u+1}.0.0-0`:w(h)?`<${u}.${+c+1}.0-0`:d?`<=${u}.${c}.${h}-${d}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),C=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,n)=>{const i=n(4225),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=n(3295),{re:s,t:a}=n(5765),l=n(2893),{compareIdentifiers:u}=n(6742);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=c},3507:(e,t,n)=>{const i=n(3959);e.exports=(e,t)=>{const n=i(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const i=n(8718),r=n(1194),o=n(1312),s=n(5903),a=n(1544),l=n(2056);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,u);case"!=":return r(e,n,u);case">":return o(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return l(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,n)=>{const i=n(6376),r=n(3959),{re:o,t:s}=n(5765);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else n=e.match(o[s.COERCE]);return null===n?null:r(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},8880:(e,t,n)=>{const i=n(6376);e.exports=(e,t,n)=>{const r=new i(e,n),o=new i(t,n);return r.compare(o)||r.compareBuild(o)}},7880:(e,t,n)=>{const i=n(6269);e.exports=(e,t)=>i(e,t,!0)},6269:(e,t,n)=>{const i=n(6376);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},2378:(e,t,n)=>{const i=n(3959),r=n(8718);e.exports=(e,t)=>{if(r(e,t))return null;{const n=i(e),r=i(t),o=n.prerelease.length||r.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==r[e])return s+e;return a}}},8718:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>0===i(e,t,n)},1312:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>i(e,t,n)>0},5903:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>i(e,t,n)>=0},253:(e,t,n)=>{const i=n(6376);e.exports=(e,t,n,r)=>{"string"==typeof n&&(r=n,n=void 0);try{return new i(e,n).inc(t,r).version}catch(e){return null}}},1544:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>i(e,t,n)<0},2056:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>i(e,t,n)<=0},8679:(e,t,n)=>{const i=n(6376);e.exports=(e,t)=>new i(e,t).major},7789:(e,t,n)=>{const i=n(6376);e.exports=(e,t)=>new i(e,t).minor},1194:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>0!==i(e,t,n)},3959:(e,t,n)=>{const{MAX_LENGTH:i}=n(3295),{re:r,t:o}=n(5765),s=n(6376),a=n(2893);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?r[o.LOOSE]:r[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},2358:(e,t,n)=>{const i=n(6376);e.exports=(e,t)=>new i(e,t).patch},7559:(e,t,n)=>{const i=n(3959);e.exports=(e,t)=>{const n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}},9795:(e,t,n)=>{const i=n(6269);e.exports=(e,t,n)=>i(t,e,n)},3657:(e,t,n)=>{const i=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>i(n,e,t)))},5712:(e,t,n)=>{const i=n(6902);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},1100:(e,t,n)=>{const i=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>i(e,n,t)))},6397:(e,t,n)=>{const i=n(3959);e.exports=(e,t)=>{const n=i(e,t);return n?n.version:null}},1249:(e,t,n)=>{const i=n(5765);e.exports={re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n(3295).SEMVER_SPEC_VERSION,SemVer:n(6376),compareIdentifiers:n(6742).compareIdentifiers,rcompareIdentifiers:n(6742).rcompareIdentifiers,parse:n(3959),valid:n(6397),clean:n(3507),inc:n(253),diff:n(2378),major:n(8679),minor:n(7789),patch:n(2358),prerelease:n(7559),compare:n(6269),rcompare:n(9795),compareLoose:n(7880),compareBuild:n(8880),sort:n(1100),rsort:n(3657),gt:n(1312),lt:n(1544),eq:n(8718),neq:n(1194),gte:n(5903),lte:n(2056),cmp:n(7539),coerce:n(9038),Comparator:n(2257),Range:n(6902),satisfies:n(5712),toComparators:n(1042),maxSatisfying:n(5775),minSatisfying:n(1657),minVersion:n(5316),validRange:n(9042),outside:n(6826),gtr:n(7606),ltr:n(32),intersects:n(2937),simplifyRange:n(7908),subset:n(799)}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const i=t.test(e),r=t.test(n);return i&&r&&(e=+e,n=+n),e===n?0:i&&!r?-1:r&&!i?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},2893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:i}=n(3295),r=n(4225),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let l=0;const u=(e,t,n)=>{const i=l++;r(i,t),a[e]=i,s[i]=t,o[i]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},7606:(e,t,n)=>{const i=n(6826);e.exports=(e,t,n)=>i(e,t,">",n)},2937:(e,t,n)=>{const i=n(6902);e.exports=(e,t,n)=>(e=new i(e,n),t=new i(t,n),e.intersects(t))},32:(e,t,n)=>{const i=n(6826);e.exports=(e,t,n)=>i(e,t,"<",n)},5775:(e,t,n)=>{const i=n(6376),r=n(6902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new r(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new i(o,n)))})),o}},1657:(e,t,n)=>{const i=n(6376),r=n(6902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new r(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new i(o,n)))})),o}},5316:(e,t,n)=>{const i=n(6376),r=n(6902),o=n(1312);e.exports=(e,t)=>{e=new r(e,t);let n=new i("0.0.0");if(e.test(n))return n;if(n=new i("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let s=null;r.forEach((e=>{const t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!o(n,s)||(n=s)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const i=n(6376),r=n(2257),{ANY:o}=r,s=n(6902),a=n(5712),l=n(1312),u=n(1544),c=n(2056),h=n(5903);e.exports=(e,t,n,d)=>{let f,p,m,v,g;switch(e=new i(e,d),t=new s(t,d),n){case">":f=l,p=c,m=u,v=">",g=">=";break;case"<":f=u,p=h,m=l,v="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null,a=null;if(i.forEach((e=>{e.semver===o&&(e=new r(">=0.0.0")),s=s||e,a=a||e,f(e.semver,s.semver,d)?s=e:m(e.semver,a.semver,d)&&(a=e)})),s.operator===v||s.operator===g)return!1;if((!a.operator||a.operator===v)&&p(e,a.semver))return!1;if(a.operator===g&&m(e,a.semver))return!1}return!0}},7908:(e,t,n)=>{const i=n(5712),r=n(6269);e.exports=(e,t,n)=>{const o=[];let s=null,a=null;const l=e.sort(((e,t)=>r(e,t,n)));for(const e of l)i(e,t,n)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const c=u.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return c.length<h.length?c:t}},799:(e,t,n)=>{const i=n(6902),{ANY:r}=n(2257),o=n(5712),s=n(6269),a=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===r)return 1===t.length&&t[0].semver===r;const i=new Set;let a,c,h,d,f,p,m;for(const t of e)">"===t.operator||">="===t.operator?a=l(a,t,n):"<"===t.operator||"<="===t.operator?c=u(c,t,n):i.add(t.semver);if(i.size>1)return null;if(a&&c){if(h=s(a.semver,c.semver,n),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==c.operator))return null}for(const e of i){if(a&&!o(e,String(a),n))return null;if(c&&!o(e,String(c),n))return null;for(const i of t)if(!o(e,String(i),n))return!1;return!0}for(const e of t){if(m=m||">"===e.operator||">="===e.operator,p=p||"<"===e.operator||"<="===e.operator,a)if(">"===e.operator||">="===e.operator){if(d=l(a,e,n),d===e&&d!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(e),n))return!1;if(c)if("<"===e.operator||"<="===e.operator){if(f=u(c,e,n),f===e&&f!==c)return!1}else if("<="===c.operator&&!o(c.semver,String(e),n))return!1;if(!e.operator&&(c||a)&&0!==h)return!1}return!(a&&p&&!c&&0!==h||c&&m&&!a&&0!==h)},l=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},u=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n)=>{if(e===t)return!0;e=new i(e,n),t=new i(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=a(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},1042:(e,t,n)=>{const i=n(6902);e.exports=(e,t)=>new i(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,n)=>{const i=n(6902);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},4148:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const r=n(8888),o=i(n(5747)),s=i(n(5622)),a=n(7399),l=n(4912),u=n(9170),c=n(5845),h=n(4649);t.activate=async function(e){const t=r.workspace.getConfiguration("kotlin"),n=t.get("languageServer.enabled");await u.fsExists(e.storagePath)||await o.default.promises.mkdir(e.storagePath);const i=s.default.join(e.storagePath,"config.json"),d=await a.InternalConfigManager.loadingConfigFrom(i);if(!d.getConfig().initialized){const e="The Kotlin extension will automatically download a language server to provide code completion, linting and more. If you prefer to install these yourself, you can provide custom paths or disable them in your settings.";if(!await r.window.showInformationMessage(e,"Ok, continue"))return;await d.updateConfig({initialized:!0})}const f=[];n?f.push(async function(e,t){const n=new h.StatusBarEntry(e,"$(sync~spin)");n.show(),await t(n),n.dispose()}(e,(async n=>{await l.activateLanguageServer(e,n,t)}))):c.LOG.info("Skipping language server activation since 'kotlin.languageServer.enabled' is false"),await Promise.all(f).catch(c.logger.error)},t.deactivate=function(){}},7399:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfigManager=void 0;const r=i(n(5747));class o{constructor(e,t){this.filePath=e,this.config=t}static async loadingConfigFrom(e){return new o(e,await async function(e){try{return JSON.parse((await r.default.promises.readFile(e)).toString("utf8"))}catch(e){return{initialized:!1}}}(e))}getConfig(){return this.config}async updateConfig(e){Object.assign(this.config,e),await async function(e,t){await r.default.promises.writeFile(e,JSON.stringify(t),{encoding:"utf8"})}(this.filePath,this.config)}}t.InternalConfigManager=o},8337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JarClassContentProvider=void 0;const i=n(8888),r=n(6019);t.JarClassContentProvider=class{constructor(e){this.client=e}setClient(e){this.client=e}async provideTextDocumentContent(e){return await this.client.sendRequest(r.JarClassContentsRequest.type,{uri:e.toString()})||(i.window.showMessage(`Could not fetch class file contents of '${e}' from the language server. Make sure that it conforms to the format 'kls:file:///path/to/myJar.jar!/path/to/myClass.class'!`,"error"),"")}}},4912:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.spawnLanguageServerProcessAndConnectViaTcp=t.activateLanguageServer=void 0;const r=i(n(3129)),o=n(8888),s=i(n(5747)),a=i(n(1631)),l=i(n(5622)),u=n(8337),c=n(4200),h=n(9170),d=n(5845),f=n(5839);function p(e){return new Promise(((t,n)=>{d.LOG.info("Creating server.");const i=a.default.createServer((e=>{d.LOG.info("Closing server since client has connected."),i.close(),t({reader:e,writer:e})}));i.listen(e.tcpPort,(()=>{const t=i.address().port.toString(),n=r.default.spawn(e.startScriptPath,["--tcpClientPort",t]);d.LOG.info("Creating client at {} via TCP port {}",e.startScriptPath,t);const o=t=>e.outputChannel.append(`${t}`);n.stdout.on("data",o),n.stderr.on("data",o),n.on("exit",((t,n)=>e.outputChannel.appendLine(`The language server exited, code: ${t}, signal: ${n}`)))})),i.on("error",(e=>n(e)))}))}async function m(e,t){const n=e.split(l.default.delimiter);for(let e=0;e<n.length;e++){const i=l.default.join(n[e],"bin",t);if(await h.fsExists(i))return i}}t.activateLanguageServer=async function(e,t,n){d.LOG.info("Activating Kotlin Language Server..."),t.update("Activating Kotlin Language Server...");const i=l.default.join(e.storagePath,"langServerInstall"),a=n.get("languageServer.path");if(!a){const e=new c.ServerDownloader("Kotlin Language Server","kotlin-language-server","server.zip",i);try{await e.downloadServerIfNeeded(t)}catch(e){return void await o.window.showWarningMessage(`Could not update/download Kotlin Language Server: ${e}`)}}if(null==await async function(e){const t=f.correctBinname("java"),n=o.workspace.getConfiguration("java").get("home");if(n){d.LOG.debug("Looking for Java in java.home (settings): {}",n);const e=await m(n,t);if(e)return e}const i=process.env.JAVA_HOME;if(i){d.LOG.debug("Looking for Java in JAVA_HOME (environment variable): {}",i);const e=await m(i,t);if(e)return e}if(process.env.PATH){d.LOG.debug("Looking for Java in PATH");const e=process.env.PATH.split(l.default.delimiter);for(let n=0;n<e.length;n++){const i=l.default.join(e[n],t);if(s.default.existsSync(i))return i}}return d.LOG.debug("Could not find Java, will try using binary name directly"),t}())return void await o.window.showErrorMessage("Couldn't locate java in $JAVA_HOME or $PATH");const h=o.window.createOutputChannel("Kotlin");e.subscriptions.push(h);const v=n.get("languageServer.transport");let g;"tcp"===v?(g=n.get("languageServer.port"),d.LOG.info(`Connecting via TCP, port: ${g}`)):"stdio"===v?d.LOG.info("Connecting via Stdio."):d.LOG.info(`Unknown transport layer: ${v}`),t.dispose();const w=a||l.default.resolve(i,"server","bin",f.correctScriptName("kotlin-language-server")),b=function(e){var t,n;const i={documentSelector:[{language:"kotlin",scheme:"file"},{language:"kotlin",scheme:"kls"}],synchronize:{configurationSection:"kotlin",fileEvents:[o.workspace.createFileSystemWatcher("**/*.kt"),o.workspace.createFileSystemWatcher("**/*.kts"),o.workspace.createFileSystemWatcher("**/*.java"),o.workspace.createFileSystemWatcher("**/pom.xml"),o.workspace.createFileSystemWatcher("**/build.gradle"),o.workspace.createFileSystemWatcher("**/settings.gradle")]},progressOnInitialization:!0,outputChannel:e.outputChannel,revealOutputChannelOn:o.RevealOutputChannelOn.Never};let s;if(f.isOSUnixoid()&&r.default.exec(`chmod +x ${e.startScriptPath}`),e.tcpPort)s=()=>p(e);else{const i=null===(n=null===(t=o.workspace.workspaceFolders)||void 0===t?void 0:t[0])||void 0===n?void 0:n.uri;s={command:e.startScriptPath,args:[],options:{cwd:i?o.Uri.parse(i).fsPath:void 0,env:e.env}},d.LOG.info("Creating client at {}",e.startScriptPath)}return new o.LanguageClient("kotlin","Kotlin Language Client",s,i)}({outputChannel:h,startScriptPath:w,tcpPort:g,env:void 0});let E=b.start();e.subscriptions.push(E);const y=new u.JarClassContentProvider(b);e.subscriptions.push(o.workspace.registerTextDocumentContentProvider("kls",y)),e.subscriptions.push(o.commands.registerCommand("kotlin.languageServer.restart",(async()=>{await b.stop(),E.dispose(),h.appendLine(""),h.appendLine(" === Language Server Restart ==="),h.appendLine(""),E=b.start(),e.subscriptions.push(E)}))),await b.onReady()},t.spawnLanguageServerProcessAndConnectViaTcp=p},6019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JarClassContentsRequest=void 0;const i=n(8888);(t.JarClassContentsRequest||(t.JarClassContentsRequest={})).type=new i.RequestType("kotlin/jarClassContents")},4200:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDownloader=void 0;const r=n(8888),o=i(n(5747)),s=i(n(5622)),a=i(n(1249)),l=n(9170),u=n(5845);t.ServerDownloader=class{constructor(e,t,n,i){this.displayName=e,this.githubProjectName=t,this.assetName=n,this.installDir=i,this.displayName=e,this.githubProjectName=t,this.installDir=i,this.assetName=n}async latestReleaseInfo(){return await r.fetch(`https://api.github.com/repos/fwcd/${this.githubProjectName}/releases/latest`,{headers:{"User-Agent":"coc-kotlin"}})}serverInfoFile(){return s.default.join(this.installDir,"SERVER-INFO")}async installedServerInfo(){try{const e=JSON.parse((await o.default.promises.readFile(this.serverInfoFile())).toString("utf8"));return a.default.valid(e.version)?e:void 0}catch(e){return}}async updateInstalledServerInfo(e){await o.default.promises.writeFile(this.serverInfoFile(),JSON.stringify(e),{encoding:"utf8"})}async downloadServer(e,t,n){await l.fsExists(this.installDir)||await o.default.promises.mkdir(this.installDir,{recursive:!0}),n.update(`Downloading ${this.displayName} ${t}...`),await r.download(e,{dest:this.installDir,extract:"unzip",onProgress:e=>{n.update(`Downloading ${this.displayName} ${t} :: ${e}%`)}}),n.update(`Initializing ${this.displayName}...`)}async downloadServerIfNeeded(e){const t=await this.installedServerInfo(),n=t||{version:"0.0.0",lastUpdate:Number.MIN_SAFE_INTEGER};if((Date.now()-n.lastUpdate)/1e3>480){let i;u.LOG.info(`Querying GitHub API for new ${this.displayName} version...`);try{i=await this.latestReleaseInfo()}catch(e){const n=`Could not fetch from GitHub releases API: ${e}.`;if(void 0===t)throw new Error(n);return void u.LOG.warn(n)}const r=i.tag_name,o=n.version;let s=o;if(a.default.gt(r,o)){const t=i.assets.find((e=>e.name===this.assetName));if(!t)throw new Error(`Latest GitHub release for ${this.githubProjectName} does not contain the asset '${this.assetName}'!`);{const n=t.browser_download_url;await this.downloadServer(n,r,e)}s=r}await this.updateInstalledServerInfo({version:s,lastUpdate:Date.now()})}}}},9170:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fsExists=void 0;const r=i(n(5747));t.fsExists=async function(e){try{return await r.default.promises.access(e),!0}catch(e){return!1}}},5845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG=t.Logger=t.LogLevel=t.logger=void 0;const i=n(8303);var r;t.logger=new i.HelperLogger("coc-kotlin"),function(e){e[e.NONE=100]="NONE",e[e.ERROR=2]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=0]="INFO",e[e.DEBUG=-1]="DEBUG",e[e.TRACE=-2]="TRACE",e[e.DEEP_TRACE=-3]="DEEP_TRACE"}(r=t.LogLevel||(t.LogLevel={}));class o{constructor(e){this.level=e}format(e,t){let n="",i=0,r=0;for(;i<e.length;){const o=e.charAt(i),s=e.charAt(i+1);"{"===o&&"}"===s?(n+=t[r],r++,i+=2):(n+=o,i++)}return n}log(e,n,i,r){n>=this.level&&t.logger.appendLine(e+this.format(i,r))}error(e,...t){this.log("Extension: [ERROR]  ",r.ERROR,e,t)}warn(e,...t){this.log("Extension: [WARN]   ",r.WARN,e,t)}info(e,...t){this.log("Extension: [INFO]   ",r.INFO,e,t)}debug(e,...t){this.log("Extension: [DEBUG]  ",r.DEBUG,e,t)}trace(e,...t){this.log("Extension: [TRACE]  ",r.TRACE,e,t)}deepTrace(e,...t){this.log("Extension: [D_TRACE]",r.DEEP_TRACE,e,t)}}t.Logger=o,t.LOG=new o(r.INFO)},5839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.correctScriptName=t.correctBinname=t.isOSUnixoid=t.isOSWindows=void 0,t.isOSWindows=function(){return"win32"===process.platform},t.isOSUnixoid=function(){const e=process.platform;return"linux"===e||"darwin"===e||"freebsd"===e||"openbsd"===e},t.correctBinname=function(e){return e+("win32"===process.platform?".exe":"")},t.correctScriptName=function(e){return e+("win32"===process.platform?".bat":"")}},4649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarEntry=void 0;const i=n(8888);t.StatusBarEntry=class{constructor(e,t){this.disposed=!1,this.prefix=t,this.barItem=i.window.createStatusBarItem(),e.subscriptions.push(this.barItem)}show(){this.barItem.show()}update(e){this.barItem.text=`${this.prefix} ${e}`}dispose(){this.disposed||(this.disposed=!0,this.barItem.dispose())}}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,n)=>{"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,i){if(!(this instanceof s))return new s(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=i,i.Node=s,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},i.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},i.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},i.prototype.map=function(e,t){t=t||this;for(var n=new i,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},i.prototype.mapReverse=function(e,t){t=t||this;for(var n=new i,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},i.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=e(n,i.value,r),i=i.next;return n},i.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=e(n,i.value,r),i=i.prev;return n},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},i.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;var o,a,l,u,c=[];for(i=0;r&&i<t;i++)c.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),i=0;i<n.length;i++)o=this,a=r,l=n[i],u=void 0,null===(u=a===o.head?new s(l,null,a,o):new s(l,a,a.next,o)).next&&(o.tail=u),null===u.prev&&(o.head=u),o.length++,r=u;return c},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{n(9602)(i)}catch(e){}},3129:e=>{"use strict";e.exports=require("child_process")},8888:e=>{"use strict";e.exports=require("coc.nvim")},5747:e=>{"use strict";e.exports=require("fs")},1631:e=>{"use strict";e.exports=require("net")},5622:e=>{"use strict";e.exports=require("path")},1669:e=>{"use strict";e.exports=require("util")}},t={};return function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(4148)})());